<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<!-- My CSS -->
	<link rel="stylesheet" href="style.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
*{
    font-family: "Poppins", sans-serif;
    margin: 0;
    padding: 0;
    scroll-behavior: smooth;
    scroll-padding-top: 2rem;
    box-sizing: border-box;
}
:root{
    --container-color: #1a1e21;
    --second-color: hsla(220, 12%, 43%, 1);
    --text-color: #172317;
    --bg-color: #fff;
}

a{
    text-decoration: none;
}
li{
    list-style: none;
}
img{
    width: 100%;
}
section{
    padding: 3rem 0 2rem;
}
.container{
    max-width: 1068px;
    margin: auto;
    width: 100%;
}
/* header */
header{
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 200;
}
header.shadow{
    background-color: var(--bg-color);
    transition: .4s;
    box-shadow: 0 1px 4px hsl(0 4% 14% / 10%);
}
header.shadow .logo{
    color: var(--text-color);
}
.nav{
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 18px 0;
}
.logo{
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--bg-color);
}
.login{
    padding: 8px 14px;
    text-transform: uppercase;
    font-weight: 500;
    border-radius: 4px;
    background-color: var(--second-color);
    color: var(--bg-color);
}
.login:hover{
    background:hsla(220, 20%, 97%, 1);
    transition: .3s;
}
.home{
    width: 100%;
    min-height: 440px;
    background: var(--container-color);
    display: grid;
    justify-content: center;
    align-items: center; 
}
.home-text{
    color: var(--bg-color);
    text-align: center;
}
.home-title{
    font-size: 3.5rem;
}
.home-subtitle{
    font-size: 1rem;
    font-weight: 400;
}
/* posts */
.post{
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, auto));
    justify-content: center;
    gap: 1.5rem;
}
.post-box{
    background: var(--bg-color);
    box-shadow: 0 4px 14px hsl(355deg 25% 15% / 10%);
    padding: 15px;
    border-radius: .5rem;   
}
.post-img{
    width: 100%;
    height: 200px;
    object-fit: cover;
    object-position: center;
    border-radius: .5rem;
}
.post-title{
    font-size:1.3rem;
    font-weight: 600;
    color: var(--text-color);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
.post-date{
    display: flex;
    font-size: .875rem;
    text-transform: uppercase;
    font-weight: 400;
    margin-top: 4px;
}
.post-description{
    font-size: .9rem;
    line-height: 1.5rem;
    margin: 5px 0 10px;
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
.profile{
    display: flex;
    align-items: center;
    gap: 10px; 
}
.profile-img{
    width: 35px;
    height: 35px;
    border-radius: 50%;
    object-fit: cover;
    object-position: center;
    border: 2px solid var(--second-color)
}
.profile-name{ 
    font-size: .82rem;
    font-weight: 500;
}
/* single blog page */
.post-header{
    width: 100%;
    height: 500px;
    background: var(--container-color);
}
.post-container{
    max-width: 800px;
    margin: auto;
    width: 100%;
}
.header-content{
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 4rem !important;
}
.back-home{
    color: #8be9f9e6;
    font-size: 1rem;
}
.header-title{
    width: 90%;
    font-size: 2.6rem;
    color: var(--bg-color);
    text-align: center;
    margin-bottom: 1rem;
}
.header-img{
    width: 100%;
    height: 420px;
    object-fit: cover;
    object-position: center;
}
.post-content{
    margin-top: 15rem !important;
}
.sub-heading{
    font-size: 1.2rem;
}
.post-text{
    font-size: 1rem;
    line-height: 1.7rem;
    margin: 1rem 0;
    text-align: justify;
}
.red{
    color: red;
}
/* media queries */
@media (max-width: 1060px){
    .container{
        margin: 0 auto;
        width: 95%;
    }
    .home-text{
        width: 100%;;
    }
}
@media (max-width: 800px){
    .nav{
        padding: 14px 0;
    }
    .post-container{
        margin: 0 auto;
        width: 95%;
    }
}
@media (max-width: 768px){
    .nav{
        padding: 10px 0;
    }
    section{
        padding: 2rem 0;
    }
    .header-content{
        margin-top: 3rem !important;
    }
    .home{
        min-height: 380px;
    }
    .home-title{
        font-size: 3rem;
    }
    .header-title{
        font-size: 2rem;
    }
    .header-img{
        height: 370px;
    }
    .post-header{
        height: 435px;
    }
    .post-content{
        margin-top: 9rem !important;
    }
}
@media (max-width: 570px){
    .post-header {
        height: 390px;
    }
    .header-title{
        width: 100%;
    }
    .header-img{
        height: 340px;
    }
}
@media (max-width: 396px){
    .home-title{
        font-size: 2rem;
    }
    .home-subtitle{
        font-size: .9rem;
        font-weight: 400;
    }
    .home{
        min-height: 300px;
    }
    .post-box{
        padding: 10px;
    }
    .header-title{
        font-size: 1.4rem;
    }
    .header-img{
        height: 240px;
    }
    .post-header{
        height: 335px;
    }
    .post-content{
        margin-top: 5rem !important;
    }
    .post-text{
        font-size: .875rem;
        line-height: 1.5rem;
        margin: 10px 0;
    }
}
    </style>

	<title>Dashboard</title>
</head>
<body>
    <section id="sidebar">
		<a href="#" class="brand">
        <i class='bx bx-home-circle'></i>
		<span class="text">Kebean</span>
		</a>
        <ul class="side-menu top">
            <li>
                <a href="#" class="posts">
                    <i class='bx bxs-doughnut-chart' ></i>
				<span class="post">Posts</span>
                </a>
            </li>
            <li>
                <a href="#" class="messages">
                    <i class='bx bxs-message-dots' ></i>
				<span class="msg">Messages</span>
                </a>
            </li>
            <li>
                <a href="#" class="subscribers">
                    <i class='bx bxs-group' ></i>
				<span class="subs">Subscribers</span>
                </a>
            </li>
            <li>
                <a href="#" class="dashboard">
                <i class='bx bx-pulse'></i>
				<span class="acts">Activities</span>
                </a>
            </li>
            <li>
                <a href="./blog.html" class="subscribers">
                    <i class='bx bx-export'></i>
				<span class="addp">Add a Post</span>
                </a>
            </li>
            <li>
                <a href="#" class="subscribers">
                
				<span class="text"></span>
                </a>
            </li>
                <!-- <li>
                    <a href="#" class="subscribers">
                        <i class='bx bxs-cog' ></i>
                    <span class="text">Change password</span>
                    </a>
                </li> -->
            <li>
                <a href="#" class="logout">
                    <i class='bx bxs-log-out-circle' ></i>
				<span class="text">Log out</span>
                </a>
            </li>
        </ul>
</section>
<section id="content">
    <!-- NAVBAR -->
    <nav>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<form action="#">
        <div class="inpt">
               <input type="search" class="inptt" placeholder="Search...">
                <button type="submit" class="sbtn"><i class='bx bx-search' ></i></button>
            </div>
        </form>
        <input type="checkbox" id="switch-mode" hidden>
        <label for="switch-mode" class="switch-mode"></label>
        <a href="#" class="notification">
         Notifications   <i class='bx bxs-bell' ><span class="num"><sup>3</sup></span></i>
            
        </a>
        <a href="#" class="profile">
          <img src="../assets/images/Kebean.jpg">
        </a>
    </nav>

    </section>
    <main>
        <div class="table-data">
            <!-- <div class="messages">
                <div class="head">
                    <h3 align="center">Recent Messages</h3>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Email </th>
                            <th>Message</th>
                        </tr>
                        </thead>
                        <tbody id="tb1"></tbody>
                        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>
                        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-firestore.js"></script>
                        
                        <script src="../firebase.js"></script>
                            <script src="../app.js"></script>
                            
                </table>
            </div> -->
    

                    </div>
                    <div class="table2-data">
                        <div class="subscribers">
                            <div class="head">
                                <h3 align="center">Subscribers</h3>
                            </div>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Email</th>
                                        <th>Date </th>
                                    </tr>
                                    </thead>
                                    <tbody id="tb2"></tbody>
                            <script src="../subs.js"></script>
                            </table>
                        </div>

                        </div> 
                        
                        
                    <div class="post">
                        <div class="blog-container1">
                            <!-- <div class="blog-box1">
                            <div class="blog-img">
                        
                             <img src="img/blog2.jpg" width="350px" height="180px" alt="blog">
                            </div>
                            <div class="blog-text">
                                <span>11/02/2022 Blog Title</span>
                                <div class="icons">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class='bx bx-trash'></i>&nbsp;&nbsp;&nbsp;<i class='bx bx-edit-alt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i></div>
                        
                        </div>
                            </div>
                            <div class="blog-box2">
                                <div class="blog-img">
                                 <img src="img/bugatti.jpg" width="350px" height="180" alt="blog">
                                </div>
                                <div class="blog-text">
                                    <span>11/02/2022 Blog Title</span>
                                    <div class="icons">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class='bx bx-trash'></i>&nbsp;&nbsp;&nbsp;<i class='bx bx-edit-alt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i></div>
                            </div>
                                </div>
                                <div class="blog-box3">
                                    <div class="blog-img">
                                     <img src="img/tour.webp" width="350px" height="180px" alt="blog">
                                    </div>
                                    <div class="blog-text">
                                        <span>11/02/2022 Blog Title</span>
                                        <div class="icons">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class='bx bx-trash'></i>&nbsp;&nbsp;&nbsp;<i class='bx bx-edit-alt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i></div>
                                </div>
                                    </div>
                                    <div class="blog-box4">
                                        <div class="blog-img">
                                         <img src="img/tour.webp" width="350px" height="180px" alt="blog">
                                        </div>
                                        <div class="blog-text">
                                            <span>11/02/2022 Blog Title </span>
                                           <div class="icons">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class='bx bx-trash'></i>&nbsp;&nbsp;&nbsp;<i class='bx bx-edit-alt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i></div>
                                    </div>  -->
                                    </div>
                                    </div>
                        
                    </div>
                               
                                
      <div class="Add-post">
          <a href="">Upload a blog</a>
          <div class="post">
          <input type="text" name="ArticleHeader" placeholder="Enter Article header......"><br>
          <textarea name="ArticleDescription" placeholder="Enter Article descriptions.........."></textarea><br>
          <label> <input type="file" name="image" accept="image/x-png,image/gif,image/jpeg,image/jpg" required style="display:none"><label>Add an image</label><strong><div class="iconimg"><i class='bx bxs-image-add'></i></div></strong></label>
           <input type="submit" class="addpost" name="AddPost" value="Add Post">
           
           
        </div>
      </div>

      <div class="table3-data">
        <div class="subscribers">
            <div class="head">
                <h3 align="center">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Recent Activities</h3><br>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Activity</th>
                        <th>Date </th>
                    </tr>
                    <tr>
                        <td>
                            Uploaded a blog
                        </td>
                        <td>01-10-2021</td>
                    </tr>
                    <tr>
                        <td>
                            Edited a blog
                        </td>
                        <td>01-10-2021</td>
                    </tr>
                    <tr>
                        <td>
                            Uploaded a blog
                        </td>
                        <td>01-10-2021</td>
                    </tr>
                    <tr>
                        <td>
                            Deleted a blog
                        </td>
                        <td>01-10-2021</td>
                    </tr>
            </table>
        </div>

        </div>

    </div>               
    </main>
    <script>
        const msg = document.getElementsByClassName('msg')[0]
        const messages =document.getElementsByClassName('table-data')[0]
        const post = document.getElementsByClassName('post')[0]
        const posts = document.getElementsByClassName('blog-container1')[0]
        const addp = document.getElementsByClassName('addp')[0]
        const addpost = document.getElementsByClassName('Add-post')[0]
        const subs = document.getElementsByClassName('subs')[0]
        const subscribers = document.getElementsByClassName('table2-data')[0]
        const acts = document.getElementsByClassName('acts')[0]
        const Activities = document.getElementsByClassName('table3-data')[0]
       msg.addEventListener('click', () =>{
        posts.style.display="none";
        // subscribers.style.display="none";
        addpost.style.display="none";
        Activities.style.display="none";
        messages.style.display="flex";
        })

        post.addEventListener('click', () =>{
        posts.style.display="flex";
        addpost.style.display="none";
        Activities.style.display="none";
        messages.style.display="none";
        // subscribers.style.display="none";
        })

        addp.addEventListener('click', () =>{
        posts.style.display="none";
        addpost.style.display="block";
        Activities.style.display="none";
        messages.style.display="none";
        // subscribers.style.display="none";
        })

        acts.addEventListener('click', () =>{
        posts.style.display="none";
        addpost.style.display="none";
        Activities.style.display="flex";
        messages.style.display="none";
        // subscribers.style.display="none";
        })

        subs.addEventListener('click', () =>{
        posts.style.display="none";
        addpost.style.display="none";
        Activities.style.display="none";
        messages.style.display="none";
        // subscribers.style.display="flex";
        })
        const auth=localStorage.getItem("auth");
        if(auth!="loggedin"){
            window.location.href = "../assets/auth.html";
        }
        const logoutBtn=document.querySelector(".logout");
        logoutBtn.addEventListener("click",()=>{
            localStorage.setItem("auth", "");
            window.location.href = "../";
        })
        //js for blog
        let blogs = JSON.parse(localStorage.getItem('blogs')) || [];

function renderBlogs() {
  const blogsContainer = document.querySelector('.blog-container1');
  blogsContainer.innerHTML = '';

  blogs.forEach((blog, index) => {
    const blogItem = document.createElement('div');
    blogItem.classList.add('post-box');
    blogItem.innerHTML = `
      <img src="${blog.image}" class="post-img" alt="Blog Image">
      <h2 class="post-title">${blog.title}</h2>
      <p class="post-description">${blog.content}</p>
      <button onclick="editBlog(${index})">Edit</button>
      <button onclick="deleteBlog(${index})">Delete</button>
    `;
    blogsContainer.appendChild(blogItem);
  });
}

function addBlog() {
  const title = document.getElementById('title').value;
  const content = document.getElementById('content').value;
  const image = document.getElementById('image').files[0];

  if (title.trim() === '' || content.trim() === '') {
    showMessage('Please enter both title and content.', 'error');
    return;
  }

  const reader = new FileReader();
  reader.onload = function(event) {
    const imageUrl = event.target.result;
    const newBlog = { title, content, image: imageUrl };
    blogs.push(newBlog);
    localStorage.setItem('blogs', JSON.stringify(blogs));
    renderBlogs();
    showMessage('Blog added successfully.', 'success');
  };
  reader.readAsDataURL(image);

  document.getElementById('title').value = '';
  document.getElementById('content').value = '';
  document.getElementById('image').value = '';
}

function editBlog(index) {
  const blog = blogs[index];
  window.location.href = "./blog.html"
  const newTitle = prompt('Enter new title:', blog.title);
  const newContent = prompt('Enter new content:', blog.content);
  const newImage = prompt('Enter new image URL:', blog.image);
  
  if (newTitle !== null && newContent !== null && newImage !== null) {
    blogs[index] = { title: newTitle, content: newContent, image: newImage };
    localStorage.setItem('blogs', JSON.stringify(blogs));
    renderBlogs();
    showMessage('Blog updated successfully.', 'success');
  }
}

function deleteBlog(index) {
    blogs.splice(index, 1);
    localStorage.setItem('blogs', JSON.stringify(blogs));
    renderBlogs();
  
}

function showMessage(message, type) {
  const messageDiv = document.getElementById('message');
  messageDiv.textContent = message;
  messageDiv.classList.remove('error', 'success');
  messageDiv.classList.add(type);
  setTimeout(() => {
    messageDiv.textContent = '';
  }, 3000);
}

renderBlogs();

        </script>
</body>
</html>